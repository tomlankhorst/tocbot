<!DOCTYPE html><html><head><meta charSet="utf-8" class="next-head next-head"/><title class="next-head">Tocbot</title><meta name="description" content="Tocbot - Generate a table of contents based on the heading structure of an html document" class="next-head"/><meta name="viewport" content="width=device-width, initial-scale=1" class="next-head"/><link rel="stylesheet" href="https://unpkg.com/tachyons@4.7.0/css/tachyons.min.css" class="next-head"/><link rel="stylesheet" href="/tocbot/static/css/tocbot.css" class="next-head"/><link rel="stylesheet" href="/tocbot/static/css/styles.css" class="next-head"/><style class="next-head">.page-content {display:none}</style><link rel="preload" href="/tocbot/_next/1f614f8b-9182-4cc3-bb38-7743925509f0/page/index.js" as="script"/><link rel="preload" href="/tocbot/_next/1f614f8b-9182-4cc3-bb38-7743925509f0/page/_error.js" as="script"/><link rel="preload" href="/tocbot/_next/1f614f8b-9182-4cc3-bb38-7743925509f0/main.js" as="script"/></head><body><div id="__next"><div class="page-content" data-reactroot=""><main><div class="hero relative overflow-hidden tc z-3" style="background-color:#54BC4B"><div class="hero-inner relative mw7 center white pv4"><div class="absolute top-0 right-0"><a class="dib f6 white no-underline pa1 ma1" href="/tocbot/">About</a><a class="dib f6 white no-underline pa1 ma1" href="/tocbot/changelog">Changelog</a><a class="dib f6 white no-underline pa1 ma1" href="https://github.com/tscanlin/tocbot">Github</a></div><div class="pv4"><h1 class="title normal ma0 pa0">Tocbot</h1><h4 class="subtitle normal o-90 ma0 pa3">Generate a table of contents based on the heading structure of an html document</h4><div class="mv2 ml4"><iframe src="https://ghbtns.com/github-btn.html?user=tscanlin&amp;repo=tocbot&amp;type=star&amp;count=true&amp;size=large" frameBorder="0" scrolling="0" width="160px" height="30px"></iframe></div></div></div></div><div class="mw7 center dark-gray lh-copy"><input type="checkbox" id="toc" class="dn"/><label class="toc-icon relative pointer z-2 f6 lh-solid bg-near-white b--silver pa1 ma1 ba br1" for="toc">Menu</label><nav class="toc toc-right js-toc relative z-1 transition--300 absolute pa4"></nav><div class="content js-toc-content pa4"><h1 class="dn">
<a href="http://tscanlin.github.io/tocbot">Tocbot</a>
</h1>
<p><a class="no-decoration" href="https://travis-ci.org/tscanlin/tocbot" target="_blank"><img src="https://travis-ci.org/tscanlin/tocbot.svg?branch=master" alt="travis-ci" /></a></p>
<p>Tocbot builds a <a href="https://en.wikipedia.org/wiki/Table_of_contents">table of contents</a> (TOC) from headings in an HTML document. This is useful for documentation websites or long markdown pages because it makes them easier to navigate. This library was inspired by <a href="http://gregfranko.com/jquery.tocify.js/">Tocify</a>, the main difference is that Tocbot uses native DOM methods and avoids the jQuery &amp; jQuery UI dependencies.</p>
<h2 id="get-started">Get Started</h2>
<p>You can use npm to install it or include the script on the page with HTML.</p>
<p><a href="https://github.com/tscanlin/tocbot/releases/"><strong>Download it here</strong></a></p>
<h3 id="include-js">Include JS</h3>
<p>Install it with npm.</p>
<pre><code class="hljs">npm install --save tocbot</code></pre><p>OR</p>
<p>Include the script at the bottom of the page before the closing body tag.</p>
<pre><code class="hljs"><span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">src</span>=<span class="hljs-string">"https://cdnjs.cloudflare.com/ajax/libs/tocbot/4.4.2/tocbot.min.js"</span>&gt;</span><span class="undefined"></span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span></code></pre><h3 id="include-css">Include CSS</h3>
<p>CSS is used for expanding &amp; collapsing groupings and some basic styling.</p>
<pre><code class="hljs"><span class="hljs-tag">&lt;<span class="hljs-name">link</span> <span class="hljs-attr">rel</span>=<span class="hljs-string">"stylesheet"</span> <span class="hljs-attr">href</span>=<span class="hljs-string">"https://cdnjs.cloudflare.com/ajax/libs/tocbot/4.4.2/tocbot.css"</span>&gt;</span></code></pre><p>OR</p>
<p>If you installed it with npm and use sass / postcss you might try importing the styles from 'node_modules', <a href="https://github.com/sass/node-sass#includepaths">see the includePath option documentation for more info</a></p>
<pre><code class="hljs">@<span class="hljs-keyword">import</span> <span class="hljs-string">'tocbot/src/scss/tocbot-core'</span>;
@<span class="hljs-keyword">import</span> <span class="hljs-string">'tocbot/src/scss/tocbot-default-theme'</span>;</code></pre><h3 id="usage">Usage</h3>
<p>Initialize the script</p>
<pre><code class="hljs">tocbot.init({
  <span class="hljs-comment">// Where to render the table of contents.</span>
  tocSelector: <span class="hljs-string">'.js-toc'</span>,
  <span class="hljs-comment">// Where to grab the headings to build the table of contents.</span>
  contentSelector: <span class="hljs-string">'.js-toc-content'</span>,
  <span class="hljs-comment">// Which headings to grab inside of the contentSelector element.</span>
  headingSelector: <span class="hljs-string">'h1, h2, h3'</span>,
});</code></pre><p><strong>NOTE:</strong> Make sure headings have id attributes, tocbot and your browser needs these to make hashes jump to the proper heading, some markdown libraries (like <a href="https://github.com/chjj/marked">marked</a>) already do this for you.</p>
<p>If content in the div has changed then trigger a refresh (optionally with new options).</p>
<pre><code class="hljs">tocbot.refresh();</code></pre><h2 id="examples">Examples</h2>
<ul>
<li><a href="http://tscanlin.github.io/tocbot/">Tocbot Homepage</a></li>
<li><a href="https://spqr.wtf/projects/toc">Pagekit TOC</a></li>
<li><a href="https://developers.optimizely.com/x/solutions/javascript/reference/index.html">Optimizely's Developer Documentation</a></li>
</ul>
<p>If you'd like to add your page to this list open a pull request.</p>
<h2 id="requirements">Requirements</h2>
<p>This library uses <strong>vanilla JavaScript</strong>. It is less than 350 bytes of CSS and about 3.6Kb of JavaScript (minified and gzipped) it also has no dependencies.</p>
<p>This script works in <strong>all modern browsers and IE 9+</strong>.</p>
<p><strong>Make sure rendered headings have id attributes</strong>, some markdown libraries (like <a href="https://github.com/chjj/marked">marked</a>) already do this. If you need to do this client side see <a href="https://github.com/tscanlin/tocbot/blob/master/src/utils/make-ids.js">this script</a>.</p>
<p><strong>NOTE:</strong> to exclude anchor elements from smooth scrolling, add the class <code>no-smooth-scroll</code>.</p>
<h3 id="fixed-headers">Fixed headers</h3>
<p>To handle anchor links properly when you have a fixed header, I recommend using CSS similar to the following:</p>
<pre><code class="hljs"><span class="hljs-selector-tag">h1</span><span class="hljs-selector-pseudo">::before</span>, <span class="hljs-selector-tag">h2</span><span class="hljs-selector-pseudo">::before</span>, <span class="hljs-selector-tag">h3</span><span class="hljs-selector-pseudo">::before</span>, <span class="hljs-selector-tag">h4</span><span class="hljs-selector-pseudo">::before</span>, <span class="hljs-selector-tag">h5</span><span class="hljs-selector-pseudo">::before</span>, <span class="hljs-selector-tag">h6</span><span class="hljs-selector-pseudo">::before</span> {
    <span class="hljs-attribute">display</span>: block;
    <span class="hljs-attribute">content</span>: <span class="hljs-string">" "</span>;
    <span class="hljs-attribute">height</span>: <span class="hljs-number">60px</span>;
    <span class="hljs-attribute">margin-top</span>: -<span class="hljs-number">60px</span>;
    <span class="hljs-attribute">visibility</span>: hidden;
}</code></pre><p>This is better than javascript solutions since it will work when javascript is disabled.</p>
<h2 id="api">API</h2>
<h3 id="options">Options</h3>
<pre><code class="hljs"><span class="hljs-comment">// Where to render the table of contents.</span>
tocSelector: <span class="hljs-string">'.js-toc'</span>,
<span class="hljs-comment">// Where to grab the headings to build the table of contents.</span>
contentSelector: <span class="hljs-string">'.js-toc-content'</span>,
<span class="hljs-comment">// Which headings to grab inside of the contentSelector element.</span>
headingSelector: <span class="hljs-string">'h1, h2, h3'</span>,
<span class="hljs-comment">// Headings that match the ignoreSelector will be skipped.</span>
ignoreSelector: <span class="hljs-string">'.js-toc-ignore'</span>,
<span class="hljs-comment">// Main class to add to links.</span>
linkClass: <span class="hljs-string">'toc-link'</span>,
<span class="hljs-comment">// Extra classes to add to links.</span>
extraLinkClasses: <span class="hljs-string">''</span>,
<span class="hljs-comment">// Class to add to active links,</span>
<span class="hljs-comment">// the link corresponding to the top most heading on the page.</span>
activeLinkClass: <span class="hljs-string">'is-active-link'</span>,
<span class="hljs-comment">// Main class to add to lists.</span>
listClass: <span class="hljs-string">'toc-list'</span>,
<span class="hljs-comment">// Extra classes to add to lists.</span>
extraListClasses: <span class="hljs-string">''</span>,
<span class="hljs-comment">// Class that gets added when a list should be collapsed.</span>
isCollapsedClass: <span class="hljs-string">'is-collapsed'</span>,
<span class="hljs-comment">// Class that gets added when a list should be able</span>
<span class="hljs-comment">// to be collapsed but isn't necessarily collpased.</span>
collapsibleClass: <span class="hljs-string">'is-collapsible'</span>,
<span class="hljs-comment">// Class to add to list items.</span>
listItemClass: <span class="hljs-string">'toc-list-item'</span>,
<span class="hljs-comment">// How many heading levels should not be collpased.</span>
<span class="hljs-comment">// For example, number 6 will show everything since</span>
<span class="hljs-comment">// there are only 6 heading levels and number 0 will collpase them all.</span>
<span class="hljs-comment">// The sections that are hidden will open</span>
<span class="hljs-comment">// and close as you scroll to headings within them.</span>
collapseDepth: <span class="hljs-number">0</span>,
<span class="hljs-comment">// Smooth scrolling enabled.</span>
scrollSmooth: <span class="hljs-literal">true</span>,
<span class="hljs-comment">// Smooth scroll duration.</span>
scrollSmoothDuration: <span class="hljs-number">420</span>,
<span class="hljs-comment">// Callback for scroll end.</span>
scrollEndCallback: <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">e</span>) </span>{ },
<span class="hljs-comment">// Headings offset between the headings and the top of the document (this is meant for minor adjustments).</span>
headingsOffset: <span class="hljs-number">1</span>,
<span class="hljs-comment">// Timeout between events firing to make sure it's</span>
<span class="hljs-comment">// not too rapid (for performance reasons).</span>
throttleTimeout: <span class="hljs-number">50</span>,
<span class="hljs-comment">// Element to add the positionFixedClass to.</span>
positionFixedSelector: <span class="hljs-literal">null</span>,
<span class="hljs-comment">// Fixed position class to add to make sidebar fixed after scrolling</span>
<span class="hljs-comment">// down past the fixedSidebarOffset.</span>
positionFixedClass: <span class="hljs-string">'is-position-fixed'</span>,
<span class="hljs-comment">// fixedSidebarOffset can be any number but by default is set</span>
<span class="hljs-comment">// to auto which sets the fixedSidebarOffset to the sidebar</span>
<span class="hljs-comment">// element's offsetTop from the top of the document on init.</span>
fixedSidebarOffset: <span class="hljs-string">'auto'</span>,
<span class="hljs-comment">// includeHtml can be set to true to include the HTML markup from the</span>
<span class="hljs-comment">// heading node instead of just including the textContent.</span>
includeHtml: <span class="hljs-literal">false</span>,
<span class="hljs-comment">// onclick function to apply to all links in toc. will be called with</span>
<span class="hljs-comment">// the event as the first parameter, and this can be used to stop,</span>
<span class="hljs-comment">// propagation, prevent default or perform action</span>
onClick: <span class="hljs-literal">false</span>,
<span class="hljs-comment">// orderedList can be set to false to generate unordered lists (ul)</span>
<span class="hljs-comment">// instead of ordered lists (ol)</span>
orderedList: <span class="hljs-literal">true</span>,
<span class="hljs-comment">// If there is a fixed article scroll container, set to calculate titles' offset</span>
scrollContainer: <span class="hljs-literal">null</span></code></pre><h3 id="methods">Methods</h3>
<h4 id="init">.init</h4>
<p>Initialize tocbot with an options object.</p>
<pre><code class="hljs">tocbot.init(options)</code></pre><h4 id="destroy">.destroy</h4>
<p>Destroy tocbot and remove event listeners.</p>
<pre><code class="hljs">tocbot.destroy()</code></pre><h4 id="refresh">.refresh</h4>
<p>Refresh tocbot if the document changes and it needs to be rebuilt.</p>
<pre><code class="hljs">tocbot.refresh()</code></pre><h2 id="roadmap">Roadmap</h2>
<ul>
<li>More tests</li>
<li>React.js support (make react support native without direct dom manipulation)</li>
</ul>
<h2 id="contributing">Contributing</h2>
<p>Contributions and suggestions are welcome! Please feel free to open an issue if you run into a problem or have a feature request. I'll do my best to respond in a timely fashion.</p>
<p>If you want to open a pull request just fork the repo but please make sure all tests and lint pass.</p>
<h3 id="running-tests">Running Tests</h3>
<h4 id="all-tests">All tests</h4>
<pre><code class="hljs">npm run <span class="hljs-built_in">test</span></code></pre><h4 id="with-debugger">With debugger</h4>
<p>You can run tests through <a href="https://github.com/node-inspector/node-inspector">node-inspector</a>.</p>
<p><a href="https://github.com/node-inspector/node-inspector/issues/950#issuecomment-264289415">For now, you may need to use node v6 or lower</a>...</p>
<pre><code class="hljs">nvm use 6</code></pre><p>Once you're on node v6 or lower:</p>
<pre><code class="hljs">npm install node-inspector</code></pre><p>Now that node-inspector is installed, you can run the tests!</p>
<pre><code class="hljs">npm run <span class="hljs-built_in">test</span>:debug</code></pre><h2 id="steps-to-publish">Steps to publish</h2>
<ul>
<li>Push a branch and open a pull request</li>
<li>run <code>npm version &lt;patch|minor|major&gt;</code></li>
<li>Update readme.md with notes</li>
<li>Merge the pull request</li>
<li>commit dist/</li>
<li>run <code>npm publish</code></li>
<li>make release on github</li>
</ul>
<h2 id="license">License</h2>
<p><a href="'http://opensource.org/licenses/MIT'">MIT</a></p>
</div></div><div class="try-it-container transition--300 fixed w-60 ma2 z-3 bottom-0 right-0 is-closed"><div class="cb pb2"><button class="button bn f6 link br1 ph3 pv2 mb2 dib white bg-dark-gray fr">Try it</button><a id="try-it-reset" href="javascript:void(0)" class="ph3 pv2 mb2 dib fr">Reset</a></div><p class="mb0 mt4">Paste markdown in the box below.</p><textarea id="try-it-markdown" class="textarea w-100 h4"></textarea></div><div><script>
  (function(b,o,i,l,e,r){b.GoogleAnalyticsObject=l;b[l]||(b[l]=
  function(){(b[l].q=b[l].q||[]).push(arguments)});b[l].l=+new Date;
  e=o.createElement(i);r=o.getElementsByTagName(i)[0];
  e.src='https://www.google-analytics.com/analytics.js';
  r.parentNode.insertBefore(e,r)}(window,document,'script','ga'));
  ga('create','UA-76620957-1','auto');ga('send','pageview');
</script></div></main></div></div><div id="__next-error"></div><script>
          __NEXT_DATA__ = {"props":{},"page":"/","pathname":"/","query":{},"buildId":"1f614f8b-9182-4cc3-bb38-7743925509f0","assetPrefix":"/tocbot","nextExport":true,"err":null,"chunks":[]}
          module={}
          __NEXT_LOADED_PAGES__ = []
          __NEXT_LOADED_CHUNKS__ = []

          __NEXT_REGISTER_PAGE = function (route, fn) {
            __NEXT_LOADED_PAGES__.push({ route: route, fn: fn })
          }

          __NEXT_REGISTER_CHUNK = function (chunkName, fn) {
            __NEXT_LOADED_CHUNKS__.push({ chunkName: chunkName, fn: fn })
          }

          false
        </script><script async="" id="__NEXT_PAGE__/" src="/tocbot/_next/1f614f8b-9182-4cc3-bb38-7743925509f0/page/index.js"></script><script async="" id="__NEXT_PAGE__/_error" src="/tocbot/_next/1f614f8b-9182-4cc3-bb38-7743925509f0/page/_error.js"></script><script src="/tocbot/_next/1f614f8b-9182-4cc3-bb38-7743925509f0/main.js" async=""></script></body></html>